!function(a,b){"use strict";function c(){function a(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){if(d[a]=b.extend({reloadOnSearch:!0},e,a&&c(a,e)),a){var f="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[f]=b.extend({redirectTo:a},c(f,e))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(c,e,f,g,h,i,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i="string"==typeof e[f]?decodeURIComponent(e[f]):e[f];h&&i&&(d[h.name]=i)}return d}function m(){var a=n(),d=q.current;a&&d&&a.$$route===d.$$route&&b.equals(a.pathParams,d.pathParams)&&!a.reloadOnSearch&&!p?(d.params=a.params,b.copy(d.params,f),c.$broadcast("$routeUpdate",d)):(a||d)&&(p=!1,c.$broadcast("$routeChangeStart",a,d),q.current=a,a&&a.redirectTo&&(b.isString(a.redirectTo)?e.path(o(a.redirectTo,a.params)).search(a.params).replace():e.url(a.redirectTo(a.pathParams,e.path(),e.search())).replace()),g.when(a).then(function(){if(a){var c,d,e=b.extend({},a.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a)}),b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),d=k.getTrustedResourceUrl(d),b.isDefined(d)&&(a.loadedTemplateUrl=d,c=i.get(d,{cache:j}).then(function(a){return a.data}))),b.isDefined(c)&&(e.$template=c),g.all(e)}}).then(function(e){a==q.current&&(a&&(a.locals=e,b.copy(a.params,f)),c.$broadcast("$routeChangeSuccess",a,d))},function(b){a==q.current&&c.$broadcast("$routeChangeError",a,d,b)}))}function n(){var c,f;return b.forEach(d,function(d){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function o(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var p=!1,q={routes:d,reload:function(){p=!0,c.$evalAsync(m)}};return c.$on("$locationChangeSuccess",m),q}]}function d(){this.$get=function(){return{}}}function e(a,b,c,d,e){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(f,g,h){return function(f,g,i){function j(){l&&(l.$destroy(),l=null),m&&(e.leave(m),m=null)}function k(){var i=a.current&&a.current.locals,k=i&&i.$template;if(k){var o=f.$new();h(o,function(f){j(),f.html(k),e.enter(f,null,g);var h=c(f.contents()),p=a.current;if(l=p.scope=o,m=f,p.controller){i.$scope=l;var q=d(p.controller,i);p.controllerAs&&(l[p.controllerAs]=q),f.data("$ngControllerController",q),f.children().data("$ngControllerController",q)}h(l),l.$emit("$viewContentLoaded"),l.$eval(n),b()})}else j()}var l,m,n=i.onload||"";f.$on("$routeChangeSuccess",k),k()}}}}var f=b.module("ngRoute",["ng"]).provider("$route",c);f.provider("$routeParams",d),f.directive("ngView",e),e.$inject=["$route","$anchorScroll","$compile","$controller","$animate"]}(window,window.angular),angular.module("ajoslin.mobile-navigate",[]).run(["$navigate","$rootScope",function(a,b){document.addEventListener("deviceready",function(){document.addEventListener("backbutton",function(){b.$apply(function(){var b=a.back();b||navigator.app.exitApp()})})})}]),angular.module("ajoslin.mobile-navigate").provider("$change",function(){var a={modal:["modal",""],none:["",""]},b={prefix:"mb-"},c="in",d="out",e="reverse",f="animationName"in document.documentElement.style?"animationend":"webkitAnimationEnd";this.setTransitionPreset=function(b,c,d){c=c||"",d=d||c,a[b]=[c,d]},this.options=function(a){b=angular.extend(b,a||{})},this.$get=["$q","$rootScope",function(g,h){return function(i,j,k,l,m){function n(a){return a.reduce(function(a,b){return a+(b?" "+m.prefix+b:"")},"")}function o(){h.$apply(function(){r.resolve()})}m=angular.extend(m||{},b);var p,q,r=g.defer(),s=a[k]?a[k]:[k,k];i.css("z-index","-100"),i[0].offsetWidth+=0;var t=n([l?d:c,p=s[l?1:0],l&&e||""]);i.addClass(t);var u;j&&(u=n([l?c:d,q=s[l?0:1],l&&e||""]),j.addClass(u)),i.css("z-index",""),i[0].offsetWidth+=0;var v;return p&&p.length?(v=i).bind(f,o):j&&q&&q.length?(v=j).bind(f,o):r.resolve(),r.promise.then(function(){v&&v.unbind(f,o),i.removeClass(t),j&&j.removeClass(u)}),r.promise.cancel=function(){r.resolve()},r.promise}}]}),angular.module("ajoslin.mobile-navigate").provider("$navigate",function(){this.$get=["$rootScope","$location","$route",function(a,b){function c(a,b,c){var d,e=a,f=b||"slide",g=c;this.transition=function(){var a;return d?(a=d,d=null):a=f,a},this.path=function(){return e},this.reverse=function(){return g},this.transitionOnce=function(a){d=a}}function d(b,c,d){a.$broadcast("$pageTransitionStart",b,c,d),f.current=f.next}function e(){f.current&&g.push(f.current),f.next=new c(b.path()),f.next.transitionOnce("none"),d(f.next),f.onRouteSuccess=null}var f={},g=[];return f.onRouteSuccess=null,a.$on("$routeChangeSuccess",function(a,b,c){b.$$route&&b.$$route.redirectTo||(f.onRouteSuccess||e)(a,b,c)}),f.go=function(a,e,h){"boolean"==typeof e&&(h=e,e=null),b.path(a),f.onRouteSuccess=function(b,i){f.current&&g.push(f.current),f.next=new c(a,e||i.$$route&&i.$$route.transition,h),d(f.next,f.current,!1)}},f.eraseHistory=function(){g.length=0},f.back=function(){if(g.length>0){var a=g[g.length-1];return b.path(a.path()),f.onRouteSuccess=function(){g.pop(),f.next=a,d(f.next,f.current,!0)},!0}return!1},f}]}),angular.module("ajoslin.mobile-navigate").directive("mobileView",["$rootScope","$compile","$controller","$route","$change","$q",function(a,b,c,d,e,f){function g(g,h,i){function j(a){var e=d.current,f=e&&e.locals;return a.element=angular.element(document.createElement("div")),a.element.html(f.$template),a.element.addClass("mb-page"),a.scope=g.$new(),e.controller&&(f.$scope=a.scope,a.controller=c(e.controller,f),a.element.contents().data("$ngControllerController",a.controller)),b(a.element.contents())(a.scope),f&&f.$template&&h.append(a.element),a.scope.$emit("$viewContentLoaded"),a.scope.$eval(i.onLoad),a}var k;g.$on("$pageTransitionStart",function(b,c,h,l){function m(){function b(){var b=e(c.element,h?h.element:null,m,l);return b.then(function(){h&&(a.$broadcast("$pageTransitionSuccess",c,h),h.scope.$destroy(),h.element.remove(),h=void 0)}),b}var k=d.current&&d.current.$$route||{},m=l?h.transition():c.transition();j(c),(c.reverse()||k.reverse)&&(l=!l),c.element.css("display","none");var n=g.$eval(i.deferTransition)||f.when();n.cancel=function(){o=!0,c.element.css("display","")};var o=!1;return n.then(function(){return o?void 0:(c.element.css("display",""),b())}),n}k&&k.cancel(),k=m(c,h,l)})}return{restrict:"EA",link:g}}]).directive("scrollable",["$route",function(a){var b={};return{restrict:"EA",link:function(c,d){var e=a.current?a.current.$$route:{},f=e.templateUrl||e.template,g=d[0];f&&(setTimeout(function(){var a=b[f];a&&(g.scrollTop=a)}),c.$on("$destroy",function(){b[f]=g.scrollTop}))}}}]);